var _0x1612=['`)\x20as\x20item_taxvalue\x09\x0a\x09\x09\x09\x09FROM\x20\x0a\x09\x09\x09\x09\x09`','hasOwnProperty','\x0a\x09\x09SELECT\x20\x0a\x09\x09DISTINCT\x0a\x09\x09\x09\x20\x27','tx_void','txid','lastfetchdate','`)\x20as\x20item_subtotal,\x0a\x09\x09\x09\x09\x09${neg}(`','`)\x20as\x20item_qty,\x0a\x09\x09\x09\x09\x09${neg}(`','`\x20=\x20:tx_id\x0a\x09','_connected','end','txdate','itemsubtotal','paymentname','SHOW\x20TABLES','schema','done.\x0d\x0a','../src/drivers.js','join','`\x20as\x20tx_id,\x0a\x09\x09\x09`','--\x20DEBUG','`\x0a\x09\x09WHERE\x0a\x09\x09\x09`','items','payments','conf','connecting\x20to\x20mysql\x20database\x20...','closing\x20connection...\x20','`\x20as\x20item_id,\x0a\x09\x09\x09\x09\x09`','config','itemqty','`\x20\x20ASC\x09\x0a\x09','database','\x27\x0a\x09\x09ORDER\x20BY\x20`','push','txisvoid','paymentvalue','itemname','\x0a\x09\x09\x09LIMIT\x20','server','table_id','stdout','\x0a\x09\x09\x09\x09SELECT\x20\x0a\x09\x09\x09\x09\x09`','conn','`))\x20as\x20payment_value\x0a\x09\x09\x09\x09FROM\x20\x0a\x09\x09\x09\x09\x09`','escape','write','createConnection','bind','`\x20=\x20:tx_id\x0a\x09\x09\x09\x09group\x20by\x20`','tenant_id','`\x0a\x09\x09\x09\x09WHERE\x0a\x09\x09\x09\x09\x09`','password','log','header','`\x20as\x20payment_id,\x20\x0a\x09\x09\x09\x09\x09`','`\x20as\x20tx_date,\x0a\x09\x09\x09`','Field','`\x0a\x09\x09\x09','user','`\x20>=\x20\x27','\x27\x20as\x20site_id,\x0a\x09\x09\x09`','`)\x20as\x20payment_value\x0a\x09\x09\x09\x09FROM\x20\x0a\x09\x09\x09\x09\x09`','tx_id','CreateInterface','mysql','already\x20connnected\x0d\x0a','tablename','`\x20=\x20:tx_id\x0a\x09\x09\x09','startsWith','model','replace','assign','database\x20is\x20not\x20connnected.\x0d\x0a','table_name','`\x20as\x20tx_void\x0a\x09\x09FROM\x20\x0a\x09\x09\x09`','\x0a\x09\x09\x09SELECT\x0a\x09\x09\x09','fields','itemtax','\x0a\x09\x09\x09\x09SELECT\x0a\x09\x09\x09\x09\x09\x27\x27\x20as\x20payment_id,\x20\x0a\x09\x09\x09\x09\x09\x27\x27\x20as\x20payment_method,\x0a\x09\x09\x09\x09\x09${neg}(SUM(`','query'];(function(_0x22d4dd,_0x52381e){var _0x161259=function(_0x2ceddb){while(--_0x2ceddb){_0x22d4dd['push'](_0x22d4dd['shift']());}};_0x161259(++_0x52381e);}(_0x1612,0x69));var _0x2ced=function(_0x22d4dd,_0x52381e){_0x22d4dd=_0x22d4dd-0xc8;var _0x161259=_0x1612[_0x22d4dd];return _0x161259;};var _0x1a2f4b=_0x2ced;'use strict';const drivers=require(_0x1a2f4b(0x110)),mysql=require(_0x1a2f4b(0xef));module['exports']=_0x4dea28=>{var _0x38f0c3=_0x1a2f4b,_0x4eb5f7={'_connected':![],'config':_0x4dea28,'conn':{}};return Object[_0x38f0c3(0xf6)](drivers[_0x38f0c3(0xee)](),{'connect':async()=>{await mysql_connect(_0x4eb5f7);},'close':async()=>{await mysql_close(_0x4eb5f7);},'setup_get_tables':async()=>{return await setup_get_tables(_0x4eb5f7);},'setup_get_fields':async _0xd42fd0=>{return await setup_get_fields(_0x4eb5f7,_0xd42fd0);},'previewtable':async _0x22b464=>{return await previewtable(_0x4eb5f7,_0x22b464);},'tx_get_latest_rows':async()=>{return await tx_get_latest_rows(_0x4eb5f7);},'tx_get_data':async _0x2f8acc=>{return await tx_get_data(_0x4eb5f7,_0x2f8acc);},'setConfig':_0x4216ad=>{var _0x41f1b4=_0x38f0c3;_0x4eb5f7[_0x41f1b4(0x117)]=_0x4216ad;}});};async function mysql_connect(_0x1184cc){var _0x1769dc=_0x1a2f4b;if(_0x1184cc[_0x1769dc(0x108)]){process[_0x1769dc(0xd7)][_0x1769dc(0xdc)](_0x1769dc(0xf0));return;}var _0x35e218=_0x1184cc[_0x1769dc(0xcb)][_0x1769dc(0xd5)];return _0x1184cc[_0x1769dc(0xd9)]=mysql[_0x1769dc(0xdd)]({'host':_0x35e218['host'],'user':_0x35e218[_0x1769dc(0xe9)],'password':_0x35e218[_0x1769dc(0xe2)],'database':_0x35e218[_0x1769dc(0xce)],'queryFormat':(_0x5ef9a9,_0x484b83)=>{var _0x37d766=_0x1769dc;if(!_0x484b83)return _0x5ef9a9;var _0x20bb1c=_0x5ef9a9['replace'](/\:(\w+)/g,function(_0x452bf0,_0x4f66bb){var _0x19727f=_0x2ced;if(_0x484b83[_0x19727f(0x100)](_0x4f66bb))return mysql[_0x19727f(0xdb)](_0x484b83[_0x4f66bb]);return _0x452bf0;}[_0x37d766(0xde)](this));return _0x5ef9a9[_0x37d766(0xf3)](_0x37d766(0x113))&&console[_0x37d766(0xe3)](_0x20bb1c),_0x20bb1c;}}),new Promise((_0x46f735,_0x381c0b)=>{var _0x4e92c8=_0x1769dc;process[_0x4e92c8(0xd7)][_0x4e92c8(0xdc)](_0x4e92c8(0xc8)),_0x1184cc['conn']['connect'](_0x4030f9=>{var _0x1bf0ad=_0x4e92c8;_0x4030f9?_0x381c0b(_0x4030f9):(_0x1184cc['_connected']=!![],process[_0x1bf0ad(0xd7)][_0x1bf0ad(0xdc)]('Connected.\x0d\x0a'),_0x46f735(!![]));});});}async function setup_get_tables(_0x8a6dfa){var _0x424a15=_0x1a2f4b;try{var _0x45e87b=_0x424a15(0x10d),_0x1ed0e4=await mysql_query(_0x8a6dfa,_0x45e87b),_0x3b655b=[];for(var _0x2d231d of _0x1ed0e4){var _0x523721={};for(var _0x314617 in _0x2d231d){_0x523721[_0x424a15(0xd6)]=_0x2d231d[_0x314617],_0x523721[_0x424a15(0xf8)]=_0x2d231d[_0x314617];break;}_0x3b655b[_0x424a15(0xd0)](_0x523721);}return _0x3b655b;}catch(_0x154189){throw _0x154189;}}async function setup_get_fields(_0x362da1,_0x3f63c2){var _0x447a53=_0x1a2f4b;try{var _0xa5d824='DESCRIBE\x20`'+_0x3f63c2+'`',_0x475b0b=await mysql_query(_0x362da1,_0xa5d824),_0x5468b8=[];for(var _0x347851 of _0x475b0b){var _0x4027b5={'field_id':_0x347851['Field'],'field_name':_0x347851[_0x447a53(0xe7)]};_0x5468b8[_0x447a53(0xd0)](_0x4027b5);}return _0x5468b8;}catch(_0x1e056f){throw _0x1e056f;}}async function tx_get_latest_rows(_0x8c5a8e){var _0x48f6be=_0x1a2f4b,_0x21e53b=_0x8c5a8e[_0x48f6be(0xcb)][_0x48f6be(0x104)],_0x1623c7='\x0a\x09\x09SELECT\x20\x0a\x09\x09DISTINCT\x20\x0a\x09\x09\x09`'+_0x8c5a8e[_0x48f6be(0xcb)][_0x48f6be(0x10e)]['header'][_0x48f6be(0xfb)][_0x48f6be(0x103)]+_0x48f6be(0x112)+_0x8c5a8e[_0x48f6be(0xcb)]['schema'][_0x48f6be(0xe4)][_0x48f6be(0xfb)]['txdate']+'`\x20as\x20tx_date\x0a\x09\x09FROM\x20\x0a\x09\x09\x09`'+_0x8c5a8e['config'][_0x48f6be(0x10e)][_0x48f6be(0xe4)][_0x48f6be(0xf1)]+'`\x0a\x09\x09WHERE\x0a\x09\x09\x09`'+_0x8c5a8e['config'][_0x48f6be(0x10e)]['header'][_0x48f6be(0xfb)][_0x48f6be(0x10a)]+_0x48f6be(0xea)+_0x21e53b+_0x48f6be(0xcf)+_0x8c5a8e[_0x48f6be(0xcb)][_0x48f6be(0x10e)]['header'][_0x48f6be(0xfb)][_0x48f6be(0x10a)]+_0x48f6be(0xcd);try{var _0x2748c2=await mysql_query(_0x8c5a8e,_0x1623c7);return _0x2748c2;}catch(_0x2927ee){console['error'](_0x2927ee);throw _0x2927ee;}}async function tx_get_data(_0x3b86a1,_0x18a9cc){try{var _0x37a83e=await tx_get_data_header(_0x3b86a1,_0x18a9cc),_0x41f001=await tx_get_data_items(_0x3b86a1,_0x18a9cc,_0x37a83e),_0x4d5a7c=await tx_get_data_payments(_0x3b86a1,_0x18a9cc,_0x37a83e);return{'header':_0x37a83e,'items':_0x41f001,'payments':_0x4d5a7c};}catch(_0x45b0c7){throw _0x45b0c7;}}async function tx_get_data_header(_0x434414,_0x31cbde){var _0x49a9be=_0x1a2f4b,_0x339f70=_0x49a9be(0x101)+_0x434414[_0x49a9be(0xcb)][_0x49a9be(0xe0)]+_0x49a9be(0xeb)+_0x434414['config'][_0x49a9be(0x10e)][_0x49a9be(0xe4)][_0x49a9be(0xfb)]['txid']+_0x49a9be(0x112)+_0x434414[_0x49a9be(0xcb)][_0x49a9be(0x10e)][_0x49a9be(0xe4)][_0x49a9be(0xfb)][_0x49a9be(0x10a)]+_0x49a9be(0xe6)+_0x434414['config'][_0x49a9be(0x10e)]['header'][_0x49a9be(0xfb)][_0x49a9be(0xd1)]+_0x49a9be(0xf9)+_0x434414['config']['schema'][_0x49a9be(0xe4)][_0x49a9be(0xf1)]+_0x49a9be(0x114)+_0x434414['config'][_0x49a9be(0x10e)][_0x49a9be(0xe4)]['fields'][_0x49a9be(0x103)]+_0x49a9be(0x107);try{var _0x74fdea=await mysql_query(_0x434414,_0x339f70,{'tx_id':_0x31cbde[_0x49a9be(0xed)]}),_0x3540f1=_0x74fdea[0x0];return _0x3540f1;}catch(_0x54aafd){throw _0x54aafd;}}async function tx_get_data_items(_0x275718,_0x518484,_0x4e4e16){var _0x481534=_0x1a2f4b,_0x43dfa6=_0x275718[_0x481534(0xcb)][_0x481534(0x10e)][_0x481534(0xf4)];try{var _0x45fda8;_0x43dfa6=='schema1'?_0x45fda8='\x0a\x09\x09\x09\x09SELECT\x20\x0a\x09\x09\x09\x09\x09`'+_0x275718[_0x481534(0xcb)][_0x481534(0x10e)]['header'][_0x481534(0xfb)]['itemname']+_0x481534(0xca)+_0x275718[_0x481534(0xcb)]['schema'][_0x481534(0xe4)]['fields'][_0x481534(0xd3)]+'`\x20as\x20item_name,\x0a\x09\x09\x09\x09\x09${neg}(`'+_0x275718[_0x481534(0xcb)][_0x481534(0x10e)][_0x481534(0xe4)][_0x481534(0xfb)][_0x481534(0xcc)]+_0x481534(0x106)+_0x275718[_0x481534(0xcb)][_0x481534(0x10e)][_0x481534(0xe4)][_0x481534(0xfb)][_0x481534(0x10b)]+_0x481534(0x105)+_0x275718[_0x481534(0xcb)][_0x481534(0x10e)][_0x481534(0xe4)]['fields'][_0x481534(0xfc)]+_0x481534(0xff)+_0x275718[_0x481534(0xcb)][_0x481534(0x10e)][_0x481534(0xe4)][_0x481534(0xf1)]+_0x481534(0xe1)+_0x275718['config'][_0x481534(0x10e)]['header'][_0x481534(0xfb)][_0x481534(0x103)]+_0x481534(0xf2):_0x45fda8=_0x481534(0xd8)+_0x275718[_0x481534(0xcb)]['schema'][_0x481534(0x115)]['fields'][_0x481534(0xd3)]+_0x481534(0xca)+_0x275718[_0x481534(0xcb)]['schema']['items'][_0x481534(0xfb)][_0x481534(0xd3)]+'`\x20as\x20item_name,\x0a\x09\x09\x09\x09\x09${neg}(`'+_0x275718['config']['schema'][_0x481534(0x115)]['fields'][_0x481534(0xcc)]+_0x481534(0x106)+_0x275718[_0x481534(0xcb)][_0x481534(0x10e)][_0x481534(0x115)]['fields'][_0x481534(0x10b)]+_0x481534(0x105)+_0x275718[_0x481534(0xcb)]['schema'][_0x481534(0x115)]['fields']['itemtax']+_0x481534(0xff)+_0x275718['config'][_0x481534(0x10e)][_0x481534(0x115)]['tablename']+_0x481534(0xe1)+_0x275718[_0x481534(0xcb)][_0x481534(0x10e)][_0x481534(0x115)][_0x481534(0xfb)][_0x481534(0x103)]+_0x481534(0xf2);var _0x12c60e;_0x4e4e16[_0x481534(0x102)]==0x1||_0x4e4e16[_0x481534(0x102)]==!![]?_0x12c60e='-':_0x12c60e='';var _0x1e3410=_0x45fda8[_0x481534(0xf5)](/\${neg}/g,_0x12c60e),_0x24221b=await mysql_query(_0x275718,_0x1e3410,{'tx_id':_0x518484[_0x481534(0xed)],'neg':'-'});return _0x24221b;}catch(_0x4630c8){throw _0x4630c8;}}async function tx_get_data_payments(_0x3a84a7,_0x42190e,_0x217052){var _0x3b0ff4=_0x1a2f4b,_0x24b8b3=_0x3a84a7['config'][_0x3b0ff4(0x10e)][_0x3b0ff4(0xf4)];try{var _0xa05013;_0x24b8b3=='schema1'?_0xa05013=_0x3b0ff4(0xfd)+_0x3a84a7[_0x3b0ff4(0xcb)]['schema'][_0x3b0ff4(0xe4)][_0x3b0ff4(0xfb)][_0x3b0ff4(0x10b)]+_0x3b0ff4(0xda)+_0x3a84a7['config'][_0x3b0ff4(0x10e)]['header'][_0x3b0ff4(0xf1)]+_0x3b0ff4(0xe1)+_0x3a84a7[_0x3b0ff4(0xcb)]['schema'][_0x3b0ff4(0xe4)][_0x3b0ff4(0xfb)][_0x3b0ff4(0x103)]+_0x3b0ff4(0xdf)+_0x3a84a7[_0x3b0ff4(0xcb)][_0x3b0ff4(0x10e)][_0x3b0ff4(0xe4)][_0x3b0ff4(0xfb)][_0x3b0ff4(0x103)]+_0x3b0ff4(0xe8):_0xa05013='\x0a\x09\x09\x09\x09SELECT\x0a\x09\x09\x09\x09\x09`'+_0x3a84a7[_0x3b0ff4(0xcb)][_0x3b0ff4(0x10e)]['payments']['fields'][_0x3b0ff4(0x10c)]+_0x3b0ff4(0xe5)+_0x3a84a7[_0x3b0ff4(0xcb)][_0x3b0ff4(0x10e)][_0x3b0ff4(0x116)][_0x3b0ff4(0xfb)]['paymentname']+'`\x20as\x20payment_method,\x0a\x09\x09\x09\x09\x09${neg}(`'+_0x3a84a7['config']['schema'][_0x3b0ff4(0x116)]['fields'][_0x3b0ff4(0xd2)]+_0x3b0ff4(0xec)+_0x3a84a7['config'][_0x3b0ff4(0x10e)]['payments']['tablename']+'`\x0a\x09\x09\x09\x09WHERE\x0a\x09\x09\x09\x09\x09`'+_0x3a84a7[_0x3b0ff4(0xcb)]['schema'][_0x3b0ff4(0x116)][_0x3b0ff4(0xfb)][_0x3b0ff4(0x103)]+'`\x20=\x20:tx_id\x0a\x09\x09\x09';var _0x8520e2;_0x217052[_0x3b0ff4(0x102)]==0x1||_0x217052[_0x3b0ff4(0x102)]==!![]?_0x8520e2='-':_0x8520e2='';var _0xf98b8e=_0xa05013['replace'](/\${neg}/g,_0x8520e2),_0x161cf0=await mysql_query(_0x3a84a7,_0xf98b8e,{'tx_id':_0x42190e[_0x3b0ff4(0xed)],'neg':'-'});return _0x161cf0;}catch(_0x5eb6b1){throw _0x5eb6b1;}}async function previewtable(_0x29d477,_0x3ae9cd){var _0x46f9c9=_0x1a2f4b;try{var _0x3e37fb=[];for(var _0x24ddbc in _0x3ae9cd[_0x46f9c9(0xfb)]){_0x3e37fb[_0x46f9c9(0xd0)]('`'+_0x3ae9cd[_0x46f9c9(0xfb)][_0x24ddbc]+'`\x20as\x20'+_0x24ddbc);}var _0x45fa8e=_0x3e37fb[_0x46f9c9(0x111)](',\x20'),_0x3ebbe9=_0x46f9c9(0xfa)+_0x45fa8e+'\x0a\x09\x09\x09FROM\x0a\x09\x09\x09'+_0x3ae9cd[_0x46f9c9(0xf1)]+_0x46f9c9(0xd4)+_0x3ae9cd['limit']+'\x0a\x09\x09',_0x466667=await mysql_query(_0x29d477,_0x3ebbe9);return _0x466667;}catch(_0xeeec89){throw _0xeeec89;}}async function mysql_close(_0x167f11){var _0xc24ca=_0x1a2f4b;if(!_0x167f11['_connected']){process[_0xc24ca(0xd7)][_0xc24ca(0xdc)](_0xc24ca(0xf7));return;}return new Promise((_0x3a30bc,_0x5a4457)=>{var _0x792c9d=_0xc24ca;process[_0x792c9d(0xd7)][_0x792c9d(0xdc)](_0x792c9d(0xc9)),_0x167f11[_0x792c9d(0xd9)][_0x792c9d(0x109)](_0x3e7354=>{var _0x432010=_0x792c9d;_0x3e7354?_0x5a4457(_0x3e7354):(process['stdout'][_0x432010(0xdc)](_0x432010(0x10f)),_0x167f11[_0x432010(0xd9)]['destroy'](),_0x3a30bc(!![]));});});}async function mysql_query(_0x4b7edb,_0x2da3f4,_0x48d37c){var _0x596f31=_0x1a2f4b;if(!_0x4b7edb['_connected']){process['stdout'][_0x596f31(0xdc)](_0x596f31(0xf7));return;}return new Promise((_0x49cdff,_0x5e1e64)=>{var _0x31e3c3=_0x596f31;_0x4b7edb[_0x31e3c3(0xd9)][_0x31e3c3(0xfe)](_0x2da3f4,_0x48d37c,(_0x573298,_0xebd7b4,_0x4be18d)=>{var _0x258608=_0x31e3c3;if(_0x573298)_0x5e1e64(_0x573298);else{var _0x17b55b=[];for(var _0x346829 of _0xebd7b4){var _0x6fb535={};for(var _0x2ab862 in _0x346829){_0x6fb535[_0x2ab862]=_0x346829[_0x2ab862];}_0x17b55b[_0x258608(0xd0)](_0x6fb535);}_0x49cdff(_0x17b55b);}});});}